<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Rubik', sans-serif;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }

    /* Header Styling */
    header {
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background: linear-gradient(45deg, black, #222);
      color: white;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 2;
    }

    .header-title {

      font-size: 24px;
      margin: 0;
    }

    .navbar-button {
      background: black;
      /* Dark green background */
      color: white;
      border: none;
      border-radius: 5px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      padding: 8px 12px;
      transition: background 0.3s;
      /* Optional: Adjust positioning if needed */
      margin-left: auto;
      /* Push the button to the right */
      margin-right: 5em;
    }

    .navbar {
      position: fixed;
      top: 50px;
      /* Adjusted for header height */
      left: 0;
      height: calc(100% - 50px);
      /* Adjusted for header height */
      width: 50px;
      background: linear-gradient(#003d00, #006400);
      /* Dark green gradient */
      transition: width 0.3s;
      overflow: hidden;
      z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 20px;
    }

    .navbar.expanded {
      width: 250px;
    }

    .navbar ul {
      margin: 0;
      padding: 0;
      list-style: none;
      width: 100%;
    }

    .navbar li {
      padding: 10px 15px 20px 5px;
      width: 100%;
    }

    .navbar li a {
      color: #ffffff;
      text-decoration: none;
      display: flex;
      align-items: center;
      width: 100%;
    }

    .navbar li i {
      margin-right: 15px;
      font-size: 18px;
    }

    .navbar li:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .content {
      padding: 15px 30px;
      margin-left: 50px;
      transition: margin-left 0.3s;
    }

    .navbar.expanded~.content {
      margin-left: 250px;
    }

    /* Table Styling */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    th,
    td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }

    th {
      background-color: #004d00;
      /* Dark green background for headers */
      color: #ffffff;
    }

    tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    tr:hover {
      background-color: #ddd;
    }

    img {
      max-width: 100px;
      height: auto;
    }

    /* Testimonies Section Styling */
    .testimonies {
      margin-top: 20px;
    }

    .testimonies h2 {
      font-size: 24px;
      margin-bottom: 10px;
      color: #004d00;
      /* Dark green color for section header */
    }

    .testimonies table {
      width: 100%;
      border-collapse: collapse;
    }

    .testimonies th,
    .testimonies td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }

    .testimonies th {
      background-color: #004d00;
      /* Dark green background for headers */
      color: #ffffff;
    }

    .testimonies tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    .testimonies tr:hover {
      background-color: #ddd;
    }

    .testimonies img {
      max-width: 100px;
      height: auto;
      display: block;
      margin-top: 10px;
    }

    .testimonies .test-item {
      border: 1px solid #ddd;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .testimonies .test-item h3 {
      margin: 0 0 10px 0;
      color: #003300;
      /* Even darker green for the title */
    }

    .testimonies .test-item p {
      margin: 5px 0;
      color: #333;
    }

    .testimonies .test-item div {
      margin-top: 10px;
    }

    .testimonies .test-item button {
      background: #004d00;
      color: white;
      border: none;
      border-radius: 5px;
      padding: 8px 12px;
      cursor: pointer;
      margin-right: 5px;
      transition: background 0.3s;
    }

    .testimonies .test-item button:hover {
      background: #003300;
    }

    /* Hide sections initially */
    .section {
      display: none;
    }

    /* Show section */
    .section.active {
      display: block;
    }

    a {
      color: whitesmoke;
      font-family: 'Roboto', sans-serif;
      font-weight: 300;
      padding: 10px;
    }

    .ax {
      position: relative;
      left: 60em;
    }
  </style>
</head>

<body>
  <header>
    <img class="header-title"
      src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhrkUjrRAG1Agy0snP_3FBUZiYIf21QunQSgpBGZ1J3p4_tHTEbDnVthsxysRn-CHV2RLd6ZTOha6VgsIFBWoHlaf2exB8N5v5aNLAEvQGTn-D2fH1s7DiFvVQXBlB2C5n7-UrWDPH3ru1y1C3w_Oq-stfd1DK13Db0r-pY-3cXoRZch4dgh57h52rebio/s412/Asset%207@0.75x.webp"
      alt="NI Realty">
    <div class="ax">
      <a href="/add" class="back-link">Property</a>
      <a href="/add-developer" class="back-link">Developer</a>
      <a href="/addTest" class="back-link">Testimonial</a>
      <a href="/new" class="back-link">Blog</a>
      <a href="/logout" class="back-link">Logout</a>
    </div>
    <button class="navbar-button"><i class="fa fa-bars"></i></button>
  </header>

  <div class="navbar">
    <ul>
      <li>
        <a href="#" data-target="properties">
          <i class="fa fa-home"></i>
          <span class="nav-text">Properties</span>
        </a>
      </li>
      <li>
        <a href="#" data-target="developers">
          <i class="fa fa-users"></i>
          <span class="nav-text">Developers</span>
        </a>
      </li>
      <li>
        <a href="#" data-target="testimonies">
          <i class="fa fa-comments"></i>
          <span class="nav-text">Testimonies</span>
        </a>
      </li>
      <li>
        <a href="#" data-target="blogs">
          <i class="fa-solid fa-palette"></i>
          <span class="nav-text"> Blogs</span>
        </a>
      </li>
      <li>
        <a href="#" data-target="users">
          <i class="fa-solid fa-users"></i>
          <span class="nav-text">User</span>
        </a>
      </li>
    </ul>
  </div>
  <div class="action-links">

  </div>


  <div class="content">
    <div id="properties" class="section">
      <br>
      <br>
      <h2>Properties</h2>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Price</th>
            <th>Categories</th>
            <th>Image</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% properties.forEach(property=> { %>
            <tr>
              <td>
                <%= property.name %>
              </td>
              <td>
                <%= property.price %>
              </td>
              <td>
                <%= property.categories.join(', ') %></td>
              <td><img src="<%= property.imageUrl %>" alt="Image of <%= property.name %>"></td>
              <td>
                <a href="/admin/edit/property/<%= property._id %>"><button>Edit</button></a>
                <form action="/admin/delete/<%= property._id %>" method="POST" style="display:inline;">
                  <button type="submit" onclick="return confirm(' Are you sure you want to delete this property?');">
                  Delete</button>
                  </form>
              </td>
            </tr>
            <% }) %>
        </tbody>
      </table>
    </div>

    <div id="developers" class="section">
      <br>
      <br>
      <h2>Developers</h2>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Logo</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% developers.forEach(developer=> { %>
            <tr>
              <td>
                <%= developer.name %>
              </td>
              <td>
                <%= developer.shortDescription %>
              </td>
              <td><img src="<%= developer.logo %>" alt="Logo of <%= developer.name %>"></td>
              <td>
                <a href="/admin/edit/developer/<%= developer._id %>"><button>Edit</button></a>
                <form action="/admin/delete/<%= developer._id %>" method="POST" style="display:inline;">
                  <button type="submit"
                    onclick="return confirm('Are you sure you want to delete this developer?');">Delete</button>
                </form>
              </td>
            </tr>
            <% }) %>
        </tbody>
      </table>
    </div>

    <div id="testimonies" class="section">
      <br>
      <br>
      <h2>Testimonies</h2>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Logo</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% tests.forEach(test=> { %>
            <tr>
              <td>
                <%= test.name %>
              </td>
              <td>
                <%= test.longDescription %>
              </td>
              <td><img src="<%= test.logo %>" alt="<%= test.name %>"></td>
              <td>
                <a href="/admin/edit/test/<%= test._id %>"><button>Edit</button></a>
                <form action="/admin/delete/<%= test._id %>" method="POST" style="display:inline;">
                  <button type="submit"
                    onclick="return confirm('Are you sure you want to delete this testimony?');">Delete</button>
                </form>
              </td>
            </tr>
            <% }) %>
        </tbody>
      </table>
    </div>

    <div id="blogs" class="section">
      <h2>Blog</h2>
      <table>
        <thead>
          <tr>
            <th>Heading</th>
            <th>About</th>
            <th>Image</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% blogs.forEach(blog=> { %>
            <tr>
              <td>
                <%= blog.heading %>
              </td>
              <td>
                <%= blog.about %>
              </td>
              <td><img src="<%= blog.image %>" alt="Blog Image" style="max-width: 100px;"></td>

              <td>
                <a href="/admin/edit/<%= blog._id %>"><button>Edit</button></a>
                <form action="/admin/delete/<%= blog._id %>" method="POST" style="display:inline;">
                  <button type="submit">Delete</button>
                </form>

              </td>
            </tr>
            <% }) %>
        </tbody>
      </table>
    </div>

    <div id="users" class="section">
      <h1>Contact List</h1>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Number</th>
          </tr>
        </thead>
        <tbody>
          <% users.forEach(user=> { %>
            <tr>
              <td>
                <%= user.name %>
              </td>
              <td>
                <%= user.email %>
              </td>
              <td>
                <%= user.number %>
              </td>
            </tr>
            <% }) %>
        </tbody>
      </table>
    </div>

  </div>

  <script>
    // JavaScript to toggle the navbar open/closed with the button
    const navbar = document.querySelector('.navbar');
    const navbarButton = document.querySelector('.navbar-button');

    navbarButton.addEventListener('click', () => {
      navbar.classList.toggle('expanded');
    });

    // JavaScript to show/hide sections based on navbar button clicks
    const navLinks = document.querySelectorAll('.navbar li a');
    const sections = document.querySelectorAll('.section');

    navLinks.forEach(link => {
      link.addEventListener('click', (event) => {
        event.preventDefault();
        const targetId = link.getAttribute('data-target');

        sections.forEach(section => {
          if (section.id === targetId) {
            section.classList.add('active');
          } else {
            section.classList.remove('active');
          }
        });
      });
    });

    // Optionally, set a default section to show
    document.querySelector('#properties').classList.add('active');
  </script>
</body>

</html>